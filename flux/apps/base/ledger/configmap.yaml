apiVersion: v1
kind: ConfigMap
metadata:
  name: inferadb-ledger-config
  namespace: inferadb
  labels:
    app.kubernetes.io/name: inferadb-ledger
    app.kubernetes.io/component: ledger
    app.kubernetes.io/part-of: inferadb
data:
  # Server configuration
  INFERADB__LEDGER__LISTEN_ADDR: "0.0.0.0:50051"
  INFERADB__LEDGER__DATA_DIR: "/var/lib/ledger"
  INFERADB__LEDGER__METRICS_ADDR: "0.0.0.0:9090"

  # Peer discovery via headless service DNS
  # Pods resolve each other via: inferadb-ledger.inferadb.svc.cluster.local
  INFERADB__LEDGER__DISCOVERY_DOMAIN: "inferadb-ledger.inferadb.svc.cluster.local"

  # Raft cluster bootstrap configuration
  # Match replica count for coordinated bootstrap
  INFERADB__LEDGER__BOOTSTRAP_EXPECT: "3"
  INFERADB__LEDGER__BOOTSTRAP_TIMEOUT_SECS: "120"

  # Logging
  RUST_LOG: "info"
  RUST_BACKTRACE: "1"
